<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/profile.css') }}">
</head>

<body>
    {% extends 'base.html' %}

    {% block content %}
    <br><br>
    <div class="profile-container">
        <!-- <h2 class="text-center">User Profile</h2>
        <div class="text-center">
            <img src="{{ user.profile_picture or '../static/images/default-profile.png' }}" alt="Profile Picture" class="profile-pic">
            <input type="file" class="form-control mt-2" name="profile_picture" accept="image/*">
        </div> -->
        <h2 class="text-center">User Profile</h2>
        <div class="text-center">
            {% if profile_picture %}
                <img src="data:image/jpeg;base64,{{ profile_picture }}" alt="Profile Picture" class="profile-pic">
            {% else %}
                <img src="{{ url_for('static', filename='images/client4.jpg') }}" alt="Profile Picture" class="profile-pic">
            {% endif %}
            <input type="file" class="form-control mt-2" name="profile_picture" accept="image/*">
        </div>
        

        <form method="POST">
            <div class="mb-3">
                <label class="form-label">Name</label>
                <input type="text" class="form-control" name="name" value="{{ user.name or '' }}" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Username</label>
                <input type="text" class="form-control" name="username" value="{{ user.username }}" disabled>
            </div>

            <div class="mb-3">
                <label class="form-label">Email</label>
                <input type="email" class="form-control" name="email" value="{{ user.email }}" disabled>
            </div>

            <div class="mb-3">
                <label class="form-label">Phone Number</label>
                <input type="tel" class="form-control" name="phone" value="{{ user.phone or '' }}">
            </div>

            <div class="mb-3">
                <label class="form-label">Date of Birth</label>
                <input type="date" class="form-control" name="dob" value="{{ user.dob or '' }}">
            </div>

            <div class="mb-3">
                <label class="form-label">Gender</label>
                <select class="form-select" name="gender">
                    <option value="Male" {% if user.gender == "Male" %}selected{% endif %}>Male</option>
                    <option value="Female" {% if user.gender == "Female" %}selected{% endif %}>Female</option>
                    <option value="Other" {% if user.gender == "Other" %}selected{% endif %}>Other</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label">Hobbies</label>
                <input type="text" class="form-control" name="hobbies" value="{{ user.hobbies or '' }}" placeholder="e.g. Reading, Coding, Chess">
            </div>

            <div class="mb-3">
                <label class="form-label">Bio</label>
                <textarea class="form-control" name="bio" rows="3" placeholder="Write something about yourself...">{{ user.bio or '' }}</textarea>
            </div>

            <div class="mb-3">
                <label class="form-label">Address</label>
                <input type="text" class="form-control" name="address" value="{{ user.address or '' }}" placeholder="City, State, Country">
            </div>

            <div class="mb-3">
                <label class="form-label">Social Media</label>
                <input type="text" class="form-control" name="social_media" value="{{ user.social_media or '' }}" placeholder="LinkedIn Profile URL">
            </div>

            <div class="mb-3">
                <label class="form-label">Notification Preferences</label>
                <select class="form-select" name="notifications">
                    <option value="Email & SMS" {% if user.notifications == "Email & SMS" %}selected{% endif %}>Email & SMS</option>
                    <option value="Email Only" {% if user.notifications == "Email Only" %}selected{% endif %}>Email Only</option>
                    <option value="SMS Only" {% if user.notifications == "SMS Only" %}selected{% endif %}>SMS Only</option>
                    <option value="None" {% if user.notifications == "None" %}selected{% endif %}>None</option>
                </select>
            </div>

            <button type="submit" class="btn btn-save w-100">Save Changes</button>
        </form>
    </div>
    {% endblock %}

</body>

</html>
